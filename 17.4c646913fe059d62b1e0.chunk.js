webpackJsonp([17],{1301:function(module,exports,__webpack_require__){"use strict";var core_1=__webpack_require__(0),common_1=__webpack_require__(43),forms_1=__webpack_require__(102),nga_module_1=__webpack_require__(431),importCSV_routing_1=__webpack_require__(1514),uploadService_1=__webpack_require__(623),importCSV_component_1=__webpack_require__(1451),ng2_uploader_1=__webpack_require__(624),ImportCSVModule=function(){function ImportCSVModule(){}return ImportCSVModule=__decorate([core_1.NgModule({imports:[common_1.CommonModule,forms_1.FormsModule,nga_module_1.NgaModule,importCSV_routing_1.routing],declarations:[importCSV_component_1.ImportCSV,ng2_uploader_1.UPLOAD_DIRECTIVES],providers:[uploadService_1.UploadService]}),__metadata("design:paramtypes",[])],ImportCSVModule)}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=ImportCSVModule},1451:function(module,exports,__webpack_require__){"use strict";var core_1=__webpack_require__(0),auth_service_1=__webpack_require__(57),uploadService_1=__webpack_require__(623),app_configuration_1=__webpack_require__(154),common_service_1=__webpack_require__(153),ImportCSV=function(){function ImportCSV(_auth,_upload,_config,_common){return this._auth=_auth,this._upload=_upload,this._config=_config,this._common=_common,this.progress=0,this.inProgress=!1,this.message="",this.response={},this._isRender=!0,this.hasBaseDropZoneOver=!1,_common.checkLogin()?void(this.loadingImage=_config.loadingImage):void(this._isRender=!1)}return ImportCSV.prototype.ngOnInit=function(){this.zone=new core_1.NgZone({enableLongStackTrace:!1}),this.options={url:this._config.apiUrl+"checkin",calculateSpeed:!0,authToken:this._auth.getToken(),authTokenPrefix:"",fieldName:"csv_file"}},ImportCSV.prototype.handleUpload=function(data){var _this=this;this.zone.run(function(){_this.response=data,_this.inProgress=!0}),data&&data.response&&(data=JSON.parse(data.response),this.uploadFile=data,this.inProgress=!1,1==data.status?this.message="Import successfully":this.message=this._common.handleError(data.data))},ImportCSV.prototype.fileOverBase=function(e){this.hasBaseDropZoneOver=e},ImportCSV=__decorate([core_1.Component({selector:"import-csv",styles:[__webpack_require__(1569)],template:__webpack_require__(1604)}),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof auth_service_1.AuthService&&auth_service_1.AuthService)&&_a||Object,"function"==typeof(_b="undefined"!=typeof uploadService_1.UploadService&&uploadService_1.UploadService)&&_b||Object,"function"==typeof(_c="undefined"!=typeof app_configuration_1.Configuration&&app_configuration_1.Configuration)&&_c||Object,"function"==typeof(_d="undefined"!=typeof common_service_1.CommonService&&common_service_1.CommonService)&&_d||Object])],ImportCSV);var _a,_b,_c,_d}();exports.ImportCSV=ImportCSV},1514:function(module,exports,__webpack_require__){"use strict";var router_1=__webpack_require__(35),importCSV_component_1=__webpack_require__(1451),routes=[{path:"",component:importCSV_component_1.ImportCSV}];exports.routing=router_1.RouterModule.forChild(routes)},1569:function(module,exports){module.exports=".file-over {\n  border: dotted 3px red; }\n\n/* Default class applied to drop zones on over */\n"},1604:function(module,exports){module.exports='<ng-container *ngIf="_isRender">\r\n  <input type="file"\r\n         ngFileSelect\r\n         [options]="options"\r\n         (onUpload)="handleUpload($event)">\r\n  <img *ngIf="inProgress" src="{{loadingImage}}" alt="">\r\n\r\n  <div style="margin-top: 10px;" *ngIf="message">\r\n    <p>{{message}}</p></div>\r\n</ng-container>\r\n'}});